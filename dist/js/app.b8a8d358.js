(()=>{"use strict";var e={25:(e,t,a)=>{var s=a(751),l=a(641);const o={id:"app"};function i(e,t,a,s,i,r){const n=(0,l.g2)("router-view");return(0,l.uX)(),(0,l.CE)("div",o,[(0,l.bF)(n)])}const r={name:"App"};var n=a(262);const d=(0,n.A)(r,[["render",i]]),m=d;var u=a(220);const c={class:"dashboard"},p={class:"container"},h={class:"notification-section"};function y(e,t,a,s,o,i){const r=(0,l.g2)("HeaderComponent"),n=(0,l.g2)("FilterDropdown"),d=(0,l.g2)("StatsGrid"),m=(0,l.g2)("ChartComponent"),u=(0,l.g2)("NotificationButton"),y=(0,l.g2)("ToggleSwitch"),k=(0,l.g2)("EmployeeSection");return(0,l.uX)(),(0,l.CE)("div",c,[(0,l.bF)(r,{selectedCompanyName:i.selectedCompanyName},null,8,["selectedCompanyName"]),(0,l.Lk)("div",p,[(0,l.bF)(n,{options:o.filterOptions,modelValue:o.selectedFilter,"onUpdate:modelValue":t[0]||(t[0]=e=>o.selectedFilter=e),onChange:i.handleFilterChange},null,8,["options","modelValue","onChange"]),(0,l.bF)(d,{stats:o.stats,onStatClick:i.handleStatClick},null,8,["stats","onStatClick"]),(0,l.bF)(m,{data:o.chartData,total:o.totalValue},null,8,["data","total"]),(0,l.Lk)("div",h,[(0,l.bF)(u,{onClick:i.sendNotification},null,8,["onClick"]),(0,l.bF)(y,{modelValue:o.notificationsEnabled,"onUpdate:modelValue":t[1]||(t[1]=e=>o.notificationsEnabled=e),label:"Xodim davomati xabarnomasi"},null,8,["modelValue"])]),(0,l.bF)(k,{ref:"employeeSection",employees:o.employees,onReloadEmployees:i.loadEmployees},null,8,["employees","onReloadEmployees"])])])}var k=a(33);const g={class:"header"},b={class:"header-content"},f={class:"title"};function v(e,t,a,s,o,i){return(0,l.uX)(),(0,l.CE)("header",g,[(0,l.Lk)("div",b,[(0,l.Lk)("h1",f,(0,k.v_)(a.selectedCompanyName),1),t[0]||(t[0]=(0,l.Lk)("p",{class:"subtitle"},"Mini-Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ",-1))])])}const L={name:"HeaderComponent",props:{selectedCompanyName:{type:String,required:!0}}},C=(0,n.A)(L,[["render",v],["__scopeId","data-v-7f7df876"]]),T=C,E={class:"filter-section"},w={class:"section-title"},N={class:"dropdown-wrapper"},D=["value"],P=["value"];function S(e,t,a,s,o,i){return(0,l.uX)(),(0,l.CE)("div",E,[(0,l.Lk)("h3",w," Xodimlarning "+(0,k.v_)(o.todayDate)+" statistikasi ",1),(0,l.Lk)("div",N,[(0,l.Lk)("select",{class:"dropdown",value:a.modelValue,onChange:t[0]||(t[0]=t=>e.$emit("update:modelValue",t.target.value))},[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(a.options,(e=>((0,l.uX)(),(0,l.CE)("option",{key:e.value,value:e.value},(0,k.v_)(e.label),9,P)))),128))],40,D),t[1]||(t[1]=(0,l.Lk)("div",{class:"dropdown-icon"},[(0,l.Lk)("svg",{width:"12",height:"8",viewBox:"0 0 12 8"},[(0,l.Lk)("path",{d:"M1 1l5 5 5-5",stroke:"currentColor","stroke-width":"2",fill:"none"})])],-1))])])}const X={name:"FilterDropdown",props:{modelValue:{type:String,default:""},options:{type:Array,default:()=>[]}},emits:["update:modelValue"],data(){return{todayDate:this.formatDate(new Date)}},methods:{formatDate(e){const t=["yanvar","fevral","mart","aprel","may","iyun","iyul","avgust","sentyabr","oktyabr","noyabr","dekabr"],a=e.getDate(),s=t[e.getMonth()];return`${a}-${s}`}}},I=(0,n.A)(X,[["render",S],["__scopeId","data-v-4340573e"]]),x=I,A={class:"stats-grid"},_=["onClick"],O={class:"stat-number"},F={class:"stat-title"};function M(e,t,a,s,o,i){return(0,l.uX)(),(0,l.CE)("div",A,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(a.stats,(e=>((0,l.uX)(),(0,l.CE)("div",{key:e.id,class:(0,k.C4)(["stat-card",`stat-${e.color}`]),onClick:t=>i.handleStatClick(e),style:{cursor:"pointer"}},[(0,l.Lk)("div",O,(0,k.v_)(e.count),1),(0,l.Lk)("div",F,(0,k.v_)(e.title),1)],10,_)))),128))])}const q={name:"StatsGrid",props:{stats:{type:Array,default:()=>[]}},methods:{handleStatClick(e){this.$emit("stat-click",e)}}},U=(0,n.A)(q,[["render",M],["__scopeId","data-v-1780fb60"]]),V=U,$={class:"chart-container"},B={ref:"chartCanvas"};function Q(e,t,a,s,o,i){return(0,l.uX)(),(0,l.CE)("div",$,[(0,l.Lk)("canvas",B,null,512)])}var W=a(468);W.t1.register(...W.$L);const K={name:"ChartComponent",props:{data:{type:Object,required:!0},total:{type:Number,default:0}},mounted(){this.initChart(),this.setupResizeObserver()},watch:{data:{handler(){this.updateChart()},deep:!0},total(){this.updateChart()}},methods:{initChart(){const e=this.$refs.chartCanvas.getContext("2d"),t=["#4ADE80","#EF4444","#F59E0B","#6B7280"],a={...this.data,datasets:this.data.datasets.map((e=>({...e,backgroundColor:t,borderColor:t,borderWidth:2})))};this.chart=new W.t1(e,{type:"doughnut",data:a,options:{responsive:!0,maintainAspectRatio:!1,cutout:"60%",plugins:{legend:{display:!1},tooltip:{callbacks:{label:e=>`${e.label}: ${e.parsed}`}},centerText:{total:this.total}}},plugins:[this.centerTextPlugin()]})},updateChart(){if(this.chart){const e=["#6EE7B7","#F87171","#F59E0B","#6B7280"],t={...this.data,datasets:this.data.datasets.map((t=>({...t,backgroundColor:e,borderColor:e,borderWidth:2})))};this.chart.data=t,this.chart.options.plugins.centerText.total=this.total,this.chart.update()}},centerTextPlugin(){return{id:"centerText",beforeDraw:e=>{const{ctx:t,chartArea:{width:a,height:s}}=e;t.save(),t.font="bold 10px sans-serif",t.fillStyle="#6b7280",t.textAlign="center",t.fillText("Barcha xodimlar",a/2,s/2-5),t.font="bold 20px sans-serif",t.fillStyle="#111827",t.fillText(`${e.options.plugins.centerText.total}`,a/2,s/2+20),t.restore()}}},setupResizeObserver(){"undefined"!==typeof ResizeObserver&&(this.resizeObserver=new ResizeObserver((()=>{this.chart&&this.chart.resize()})),this.resizeObserver.observe(this.$refs.chartCanvas.parentElement))}},beforeUnmount(){this.resizeObserver&&this.resizeObserver.disconnect(),this.chart&&this.chart.destroy()}},J=(0,n.A)(K,[["render",Q],["__scopeId","data-v-6ca5d1ac"]]),j=J,z=["disabled"],H={key:0,class:"spinner"};function R(e,t,a,s,o,i){return(0,l.uX)(),(0,l.CE)("button",{class:"notification-btn",onClick:t[0]||(t[0]=(...e)=>i.handleClick&&i.handleClick(...e)),disabled:o.loading},[o.loading?((0,l.uX)(),(0,l.CE)("span",H)):(0,l.Q3)("",!0),(0,l.eW)(" "+(0,k.v_)(o.loading?"Yuborilmoqda...":"XisÐ¾bÐ¾tni yuklash"),1)],8,z)}const Y={name:"NotificationButton",data(){return{loading:!1}},methods:{async handleClick(){this.loading=!0;try{await new Promise((e=>setTimeout(e,1e3))),this.$emit("click")}finally{this.loading=!1}}},emits:["click"]},G=(0,n.A)(Y,[["render",R],["__scopeId","data-v-3ee33acb"]]),Z=G,ee={class:"toggle-container"},te={class:"toggle-label"},ae={class:"toggle-wrapper"},se=["checked"];function le(e,t,a,s,o,i){return(0,l.uX)(),(0,l.CE)("div",ee,[(0,l.Lk)("label",te,(0,k.v_)(a.label),1),(0,l.Lk)("div",ae,[(0,l.Lk)("input",{type:"checkbox",checked:a.modelValue,onChange:t[0]||(t[0]=t=>e.$emit("update:modelValue",t.target.checked)),class:"toggle-input"},null,40,se),t[1]||(t[1]=(0,l.Lk)("div",{class:"toggle-slider"},null,-1))])])}const oe={name:"ToggleSwitch",props:{modelValue:{type:Boolean,default:!1},label:{type:String,default:""}},emits:["update:modelValue"]},ie=(0,n.A)(oe,[["render",le],["__scopeId","data-v-21169d69"]]),re=ie,ne={class:"employee-section-list",id:"employee-section-list"},de={class:"header"},me=["disabled"],ue={class:"filter-row"},ce=["value"],pe={key:0,class:"loading"},he={key:1,class:"empty-state"},ye={key:2,class:"employee-list-listview"},ke=["onClick"],ge={class:"employee-avatar"},be=["src","alt"],fe={key:1,class:"avatar-placeholder"},ve={class:"fio"},Le={class:"attendance"},Ce={class:"work-time"},Te={class:"actions"},Ee=["onClick"],we=["onClick"],Ne={key:3,class:"pagination"},De={class:"pagination-info"},Pe={class:"pagination-controls"},Se=["disabled"],Xe=["disabled"],Ie={class:"page-numbers"},xe=["onClick"],Ae=["disabled"],_e=["disabled"],Oe={class:"items-per-page"},Fe=["value"],Me={class:"delete-modal"},qe={class:"modal-actions"},Ue=["disabled"];function Ve(e,t,a,o,i,r){const n=(0,l.g2)("EmployeeAddModal"),d=(0,l.g2)("EmployeeEditModal");return(0,l.uX)(),(0,l.CE)("div",ne,[(0,l.Lk)("div",de,[t[13]||(t[13]=(0,l.Lk)("h2",null,"Xodimlar",-1)),(0,l.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>r.openAddModal&&r.openAddModal(...e)),class:"add-button",disabled:i.isLoading}," Xodim qo'shish ",8,me)]),(0,l.Lk)("div",ue,[(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>i.selectedFilter=e),class:"filter-select"},[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(i.filterOptions,(e=>((0,l.uX)(),(0,l.CE)("option",{key:e.value,value:e.value},(0,k.v_)(e.label),9,ce)))),128))],512),[[s.u1,i.selectedFilter]]),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>i.searchQuery=e),type:"text",placeholder:"Qidirish",class:"search-input"},null,512),[[s.Jo,i.searchQuery]])]),i.isLoading?((0,l.uX)(),(0,l.CE)("div",pe,"Ma'lumotlar yuklanmoqda...")):0===r.paginatedEmployees.length?((0,l.uX)(),(0,l.CE)("div",he,t[14]||(t[14]=[(0,l.Lk)("p",null,"Natija topilmadi",-1)]))):((0,l.uX)(),(0,l.CE)("div",ye,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.paginatedEmployees,((e,a)=>((0,l.uX)(),(0,l.CE)("div",{key:r.getEmployeeKey(e),class:(0,k.C4)(["employee-row",{even:a%2===1}])},[(0,l.Lk)("div",{class:"employee-info",onClick:t=>r.openEditModal(e.employee)},[(0,l.Lk)("div",ge,[r.getEmployeeImageUrl(e.employee)?((0,l.uX)(),(0,l.CE)("img",{key:0,src:r.getEmployeeImageUrl(e.employee),alt:r.getFullName(e.employee),class:"avatar-image",onError:t[3]||(t[3]=(...e)=>r.handleImageError&&r.handleImageError(...e))},null,40,be)):((0,l.uX)(),(0,l.CE)("div",fe,(0,k.v_)(r.getInitials(e.employee)),1))]),(0,l.Lk)("div",ve,(0,k.v_)(r.getFullName(e.employee)),1),(0,l.Lk)("div",Le,[(0,l.Lk)("span",null,"Keldi: "+(0,k.v_)(r.formatTime(e.checkInTime)),1),(0,l.Lk)("span",null,"| Ketdi: "+(0,k.v_)(r.formatTime(e.checkOutTime)),1)]),(0,l.Lk)("div",Ce," Ish vaqti: "+(0,k.v_)(r.getWorkTime(e)),1),(0,l.Lk)("div",{class:(0,k.C4)(["status-badge",r.getStatusClass(e)])},(0,k.v_)(r.getStatusText(e)),3)],8,ke),(0,l.Lk)("div",Te,[(0,l.Lk)("button",{onClick:(0,s.D$)((t=>r.openEditModal(e.employee)),["stop"]),class:"edit-btn",title:"Tahrirlash"}," ðŸ–‹ï¸ ",8,Ee),(0,l.Lk)("button",{onClick:(0,s.D$)((t=>r.confirmDelete(e.employee)),["stop"]),class:"delete-btn",title:"O'chirish"}," ðŸ—‘ï¸ ",8,we)])],2)))),128))])),r.totalPages>1?((0,l.uX)(),(0,l.CE)("div",Ne,[(0,l.Lk)("div",De,(0,k.v_)(r.startItem)+" - "+(0,k.v_)(r.endItem)+" / "+(0,k.v_)(r.totalItems)+" ta natija ",1),(0,l.Lk)("div",Pe,[(0,l.Lk)("button",{onClick:t[4]||(t[4]=e=>r.goToPage(1)),disabled:1===i.currentPage,class:"pagination-btn",title:"Birinchi sahifa"}," Â« ",8,Se),(0,l.Lk)("button",{onClick:t[5]||(t[5]=e=>r.goToPage(i.currentPage-1)),disabled:1===i.currentPage,class:"pagination-btn",title:"Oldingi sahifa"}," â€¹ ",8,Xe),(0,l.Lk)("div",Ie,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.visiblePages,(e=>((0,l.uX)(),(0,l.CE)("button",{key:e,onClick:t=>r.goToPage(e),class:(0,k.C4)(["page-btn",{active:e===i.currentPage}])},(0,k.v_)(e),11,xe)))),128))]),(0,l.Lk)("button",{onClick:t[6]||(t[6]=e=>r.goToPage(i.currentPage+1)),disabled:i.currentPage===r.totalPages,class:"pagination-btn",title:"Keyingi sahifa"}," â€º ",8,Ae),(0,l.Lk)("button",{onClick:t[7]||(t[7]=e=>r.goToPage(r.totalPages)),disabled:i.currentPage===r.totalPages,class:"pagination-btn",title:"Oxirgi sahifa"}," Â» ",8,_e)]),(0,l.Lk)("div",Oe,[t[15]||(t[15]=(0,l.Lk)("label",null,"Sahifada:",-1)),(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":t[8]||(t[8]=e=>i.itemsPerPage=e),onChange:t[9]||(t[9]=(...e)=>r.onItemsPerPageChange&&r.onItemsPerPageChange(...e)),class:"items-select"},[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(i.itemsPerPageOptions,(e=>((0,l.uX)(),(0,l.CE)("option",{key:e,value:e},(0,k.v_)(e),9,Fe)))),128))],544),[[s.u1,i.itemsPerPage]])])])):(0,l.Q3)("",!0),i.showAddModal?((0,l.uX)(),(0,l.Wv)(n,{key:4,onClose:r.closeAddModal,onAddEmployee:r.handleAddEmployee},null,8,["onClose","onAddEmployee"])):(0,l.Q3)("",!0),i.showEditModal&&i.selectedEmployee?((0,l.uX)(),(0,l.Wv)(d,{key:5,"employee-id":i.selectedEmployee.id,onClose:r.closeEditModal,onUpdateEmployee:r.handleUpdateEmployee},null,8,["employee-id","onClose","onUpdateEmployee"])):(0,l.Q3)("",!0),i.showDeleteModal?((0,l.uX)(),(0,l.CE)("div",{key:6,class:"modal-overlay",onClick:t[12]||(t[12]=(0,s.D$)(((...e)=>r.closeDeleteModal&&r.closeDeleteModal(...e)),["self"]))},[(0,l.Lk)("div",Me,[t[19]||(t[19]=(0,l.Lk)("h3",null,"Xodimni o'chirish",-1)),(0,l.Lk)("p",null,[(0,l.Lk)("strong",null,(0,k.v_)(r.getFullName(i.employeeToDelete)),1),t[16]||(t[16]=(0,l.eW)(" xodimini o'chirishni xohlaysizmi? ")),t[17]||(t[17]=(0,l.Lk)("br",null,null,-1)),t[18]||(t[18]=(0,l.Lk)("span",{class:"warning"},"Bu amal qaytarilmaydi!",-1))]),(0,l.Lk)("div",qe,[(0,l.Lk)("button",{onClick:t[10]||(t[10]=(...e)=>r.closeDeleteModal&&r.closeDeleteModal(...e)),class:"cancel-btn"}," Bekor qilish "),(0,l.Lk)("button",{onClick:t[11]||(t[11]=(...e)=>r.handleDeleteEmployee&&r.handleDeleteEmployee(...e)),class:"confirm-delete-btn",disabled:i.isDeleting},(0,k.v_)(i.isDeleting?"O'chirilmoqda...":"O'chirish"),9,Ue)])])])):(0,l.Q3)("",!0)])}const $e={class:"modal-content"},Be={class:"modal-header"},Qe={class:"step-progress"},We={key:0,class:"step-content"},Ke={class:"photo-upload-wrapper"},Je={class:"photo-upload-circle"},je=["src"],ze={key:1,class:"camera-icon",width:"36",height:"36",viewBox:"0 0 24 24",fill:"none"},He={class:"form-group"},Re={key:0,class:"input-error-text"},Ye={class:"form-group"},Ge={key:0,class:"input-error-text"},Ze={class:"form-group"},et={key:0,class:"input-error-text"},tt={class:"form-group"},at={key:0,class:"input-error-text"},st={class:"form-group"},lt={class:"phone-input-group"},ot={key:0,class:"input-error-text"},it={class:"form-group"},rt=["value"],nt={key:0,class:"input-error-text"},dt={key:1,class:"step-content"},mt={class:"schedule-tabs"},ut={key:0,class:"schedule-content"},ct={class:"form-group"},pt={class:"work-days"},ht={class:"day-name"},yt=["onClick"],kt={class:"form-group"},gt={key:0,class:"input-error-text"},bt={class:"form-group"},ft={key:0,class:"input-error-text"},vt={key:0,class:"input-error-text"},Lt={key:1,class:"schedule-content"},Ct={class:"day-header"},Tt={class:"day-name"},Et=["onClick"],wt={key:0,class:"time-inputs"},Nt={class:"time-group"},Dt=["onUpdate:modelValue"],Pt={class:"time-group"},St=["onUpdate:modelValue"],Xt={key:0,class:"input-error-text"},It={key:2,class:"step-content"},xt={class:"form-group"},At=["value"],_t={key:0,class:"input-error-text"},Ot={key:0,class:"form-group-row"},Ft={class:"form-group"},Mt={key:0,class:"input-error-text"},qt={class:"form-group"},Ut={key:0,class:"input-error-text"},Vt={key:1,class:"step-content"},$t={class:"form-group"},Bt=["value"],Qt={key:0,class:"input-error-text"},Wt={class:"form-group"},Kt={class:"salary-input-group"},Jt={key:0,class:"input-error-text"},jt={class:"form-group"},zt={class:"salary-input-group"},Ht={key:0,class:"input-error-text"},Rt={class:"form-group"},Yt={class:"salary-input-group"},Gt={key:0,class:"input-error-text"},Zt={key:3,class:"step-content"},ea={class:"form-group"},ta=["value"],aa={key:0,class:"input-error-text"},sa={class:"form-group"},la={class:"salary-input-group"},oa={key:0,class:"input-error-text"},ia={class:"form-group"},ra={class:"salary-input-group"},na={key:0,class:"input-error-text"},da={class:"form-group"},ma={class:"salary-input-group"},ua={key:0,class:"input-error-text"},ca={class:"form-actions"},pa=["disabled"],ha=["disabled"],ya=["disabled"],ka=["disabled"];function ga(e,t,a,o,i,r){return(0,l.uX)(),(0,l.CE)("div",{class:"modal-overlay",onClick:t[33]||(t[33]=(0,s.D$)(((...e)=>r.close&&r.close(...e)),["self"]))},[(0,l.Lk)("div",$e,[(0,l.Lk)("div",Be,[t[34]||(t[34]=(0,l.Lk)("h3",null,"Yangi xodim qo'shish",-1)),(0,l.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>r.close&&r.close(...e)),class:"close-btn"},"Ã—")]),(0,l.Lk)("div",Qe,[(0,l.Lk)("div",{class:(0,k.C4)(["step-item",{active:i.currentStep>=1,completed:i.currentStep>1}])},t[35]||(t[35]=[(0,l.Lk)("div",{class:"step-number"},"1",-1),(0,l.Lk)("div",{class:"step-label"},"Ma'lumotlar",-1)]),2),(0,l.Lk)("div",{class:(0,k.C4)(["step-item",{active:i.currentStep>=2,completed:i.currentStep>2}])},t[36]||(t[36]=[(0,l.Lk)("div",{class:"step-number"},"2",-1),(0,l.Lk)("div",{class:"step-label"},"Ish vaqti",-1)]),2),(0,l.Lk)("div",{class:(0,k.C4)(["step-item",{active:i.currentStep>=3,completed:i.currentStep>3}])},t[37]||(t[37]=[(0,l.Lk)("div",{class:"step-number"},"3",-1),(0,l.Lk)("div",{class:"step-label"},"Tushlik",-1)]),2),(0,l.Lk)("div",{class:(0,k.C4)(["step-item",{active:i.currentStep>=4,completed:i.currentStep>4}])},t[38]||(t[38]=[(0,l.Lk)("div",{class:"step-number"},"4",-1),(0,l.Lk)("div",{class:"step-label"},"Maoshi",-1)]),2)]),(0,l.Lk)("form",{onSubmit:t[32]||(t[32]=(0,s.D$)(((...e)=>r.submitForm&&r.submitForm(...e)),["prevent"])),class:"employee-form"},[1===i.currentStep?((0,l.uX)(),(0,l.CE)("div",We,[t[49]||(t[49]=(0,l.Lk)("div",{class:"step-title"},"Xodim Qo'shish",-1)),(0,l.Lk)("div",Ke,[(0,l.Lk)("label",Je,[(0,l.Lk)("input",{type:"file",accept:"image/*",onChange:t[1]||(t[1]=(...e)=>r.handlePhotoUpload&&r.handlePhotoUpload(...e)),class:"file-input"},null,32),i.form.photoPreview?((0,l.uX)(),(0,l.CE)(l.FK,{key:0},[(0,l.Lk)("img",{src:i.form.photoPreview,alt:"Xodim rasmi",class:"circle-img"},null,8,je),(0,l.Lk)("button",{type:"button",class:"remove-btn",onClick:t[2]||(t[2]=(0,s.D$)(((...e)=>r.removePhoto&&r.removePhoto(...e)),["stop"]))},t[39]||(t[39]=[(0,l.Lk)("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},[(0,l.Lk)("circle",{cx:"12",cy:"12",r:"12",fill:"#ef4444"}),(0,l.Lk)("path",{d:"M8 8l8 8M16 8l-8 8",stroke:"#fff","stroke-width":"2","stroke-linecap":"round"})],-1)]))],64)):((0,l.uX)(),(0,l.CE)("svg",ze,t[40]||(t[40]=[(0,l.Lk)("path",{d:"M12 17a4 4 0 1 0 0-8 4 4 0 0 0 0 8Z",stroke:"#2563eb","stroke-width":"1.8"},null,-1),(0,l.Lk)("rect",{x:"3",y:"7",width:"18",height:"12",rx:"3",stroke:"#2563eb","stroke-width":"1.5"},null,-1),(0,l.Lk)("path",{d:"M9 7V6a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v1",stroke:"#2563eb","stroke-width":"1.5"},null,-1)])))])]),(0,l.Lk)("div",He,[t[41]||(t[41]=(0,l.Lk)("label",{for:"firstName"},"Ismi *",-1)),(0,l.bo)((0,l.Lk)("input",{id:"firstName","onUpdate:modelValue":t[3]||(t[3]=e=>i.form.firstName=e),type:"text",required:"",placeholder:"Xodim ismini kiriting",class:(0,k.C4)(["form-input",{"input-error":i.errors.firstName}])},null,2),[[s.Jo,i.form.firstName]]),i.errors.firstName?((0,l.uX)(),(0,l.CE)("p",Re,(0,k.v_)(i.errors.firstName),1)):(0,l.Q3)("",!0)]),(0,l.Lk)("div",Ye,[t[42]||(t[42]=(0,l.Lk)("label",{for:"employeeNumber"},"Xodim IDsi *",-1)),(0,l.bo)((0,l.Lk)("input",{id:"employeeNumber","onUpdate:modelValue":t[4]||(t[4]=e=>i.form.employeeNumber=e),type:"text",placeholder:"ID kiriting",class:(0,k.C4)(["form-input",{"input-error":i.errors.employeeNumber}])},null,2),[[s.Jo,i.form.employeeNumber]]),i.errors.employeeNumber?((0,l.uX)(),(0,l.CE)("p",Ge,(0,k.v_)(i.errors.employeeNumber),1)):(0,l.Q3)("",!0)]),(0,l.Lk)("div",Ze,[t[43]||(t[43]=(0,l.Lk)("label",{for:"lastName"},"Familiyasi *",-1)),(0,l.bo)((0,l.Lk)("input",{id:"lastName","onUpdate:modelValue":t[5]||(t[5]=e=>i.form.lastName=e),type:"text",required:"",placeholder:"Xodim familiyasi kiriting",class:(0,k.C4)(["form-input",{"input-error":i.errors.lastName}])},null,2),[[s.Jo,i.form.lastName]]),i.errors.lastName?((0,l.uX)(),(0,l.CE)("p",et,(0,k.v_)(i.errors.lastName),1)):(0,l.Q3)("",!0)]),(0,l.Lk)("div",tt,[t[44]||(t[44]=(0,l.Lk)("label",{for:"middleName"},"Otasining ismi *",-1)),(0,l.bo)((0,l.Lk)("input",{id:"middleName","onUpdate:modelValue":t[6]||(t[6]=e=>i.form.middleName=e),type:"text",required:"",placeholder:"Otasining ismini kiriting",class:(0,k.C4)(["form-input",{"input-error":i.errors.middleName}])},null,2),[[s.Jo,i.form.middleName]]),i.errors.middleName?((0,l.uX)(),(0,l.CE)("p",at,(0,k.v_)(i.errors.middleName),1)):(0,l.Q3)("",!0)]),(0,l.Lk)("div",st,[t[46]||(t[46]=(0,l.Lk)("label",{for:"phoneNumber"},"Telefon raqami *",-1)),(0,l.Lk)("div",lt,[t[45]||(t[45]=(0,l.Lk)("span",{class:"country-code"},"+998",-1)),(0,l.bo)((0,l.Lk)("input",{id:"phoneNumber","onUpdate:modelValue":t[7]||(t[7]=e=>i.form.phoneNumber=e),type:"tel",maxlength:"9",placeholder:"901234567",class:(0,k.C4)(["form-input phone-input",{"input-error":i.errors.phoneNumber}]),onInput:t[8]||(t[8]=(...e)=>r.onPhoneInput&&r.onPhoneInput(...e)),onBlur:t[9]||(t[9]=(...e)=>r.validatePhone&&r.validatePhone(...e)),required:""},null,34),[[s.Jo,i.form.phoneNumber]])]),i.errors.phoneNumber?((0,l.uX)(),(0,l.CE)("p",ot,(0,k.v_)(i.errors.phoneNumber),1)):(0,l.Q3)("",!0)]),(0,l.Lk)("div",it,[t[48]||(t[48]=(0,l.Lk)("label",{for:"companyId"},"Kompaniya *",-1)),(0,l.bo)((0,l.Lk)("select",{id:"companyId","onUpdate:modelValue":t[10]||(t[10]=e=>i.form.companyId=e),required:"",class:(0,k.C4)(["form-select",{"input-error":i.errors.companyId}])},[t[47]||(t[47]=(0,l.Lk)("option",{value:""},"Kompaniyani tanlang",-1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(i.companies,(e=>((0,l.uX)(),(0,l.CE)("option",{key:e.id,value:e.id},(0,k.v_)(e.name),9,rt)))),128))],2),[[s.u1,i.form.companyId]]),i.errors.companyId?((0,l.uX)(),(0,l.CE)("p",nt,(0,k.v_)(i.errors.companyId),1)):(0,l.Q3)("",!0)])])):(0,l.Q3)("",!0),2===i.currentStep?((0,l.uX)(),(0,l.CE)("div",dt,[t[55]||(t[55]=(0,l.Lk)("div",{class:"step-title"},"Ish vaqti",-1)),(0,l.Lk)("div",mt,[(0,l.Lk)("button",{type:"button",class:(0,k.C4)(["tab-btn",{active:"odatiy"===i.scheduleType}]),onClick:t[11]||(t[11]=e=>i.scheduleType="odatiy")}," Odatiy ",2),(0,l.Lk)("button",{type:"button",class:(0,k.C4)(["tab-btn",{active:"maxsus"===i.scheduleType}]),onClick:t[12]||(t[12]=e=>i.scheduleType="maxsus")}," Maxsus ",2),(0,l.Lk)("button",{type:"button",class:(0,k.C4)(["tab-btn",{active:"erkin"===i.scheduleType}]),onClick:t[13]||(t[13]=e=>i.scheduleType="erkin")}," Erkin ",2)]),"odatiy"===i.scheduleType?((0,l.uX)(),(0,l.CE)("div",ut,[(0,l.Lk)("div",ct,[t[50]||(t[50]=(0,l.Lk)("label",null,"Dam olish kunlari",-1)),(0,l.Lk)("div",pt,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(i.workDays,((e,t)=>((0,l.uX)(),(0,l.CE)("div",{key:t,class:(0,k.C4)(["day-item",{"off-day":!e.selected}])},[(0,l.Lk)("span",ht,(0,k.v_)(e.name),1),(0,l.Lk)("button",{type:"button",onClick:e=>r.toggleDay(t),class:(0,k.C4)(["day-toggle",{active:e.selected}])},(0,k.v_)(e.selected?"Ish":"Dam"),11,yt)],2)))),128))])]),(0,l.Lk)("div",kt,[t[51]||(t[51]=(0,l.Lk)("label",null,"Boshlanish vaqti *",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[14]||(t[14]=e=>i.defaultStartTime=e),type:"time",class:(0,k.C4)(["form-input time-input",{"input-error":i.errors.startTime}]),onChange:t[15]||(t[15]=(...e)=>r.updateAllWorkDays&&r.updateAllWorkDays(...e))},null,34),[[s.Jo,i.defaultStartTime]]),i.errors.startTime?((0,l.uX)(),(0,l.CE)("p",gt,(0,k.v_)(i.errors.startTime),1)):(0,l.Q3)("",!0)]),(0,l.Lk)("div",bt,[t[52]||(t[52]=(0,l.Lk)("label",null,"Tugash vaqti *",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[16]||(t[16]=e=>i.defaultEndTime=e),type:"time",class:(0,k.C4)(["form-input time-input",{"input-error":i.errors.endTime}]),onChange:t[17]||(t[17]=(...e)=>r.updateAllWorkDays&&r.updateAllWorkDays(...e))},null,34),[[s.Jo,i.defaultEndTime]]),i.errors.endTime?((0,l.uX)(),(0,l.CE)("p",ft,(0,k.v_)(i.errors.endTime),1)):(0,l.Q3)("",!0)]),i.errors.workDays?((0,l.uX)(),(0,l.CE)("p",vt,(0,k.v_)(i.errors.workDays),1)):(0,l.Q3)("",!0)])):(0,l.Q3)("",!0),"maxsus"===i.scheduleType?((0,l.uX)(),(0,l.CE)("div",Lt,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(i.workDays,((e,a)=>((0,l.uX)(),(0,l.CE)("div",{key:a,class:"day-schedule"},[(0,l.Lk)("div",Ct,[(0,l.Lk)("span",Tt,(0,k.v_)(e.name),1),(0,l.Lk)("button",{type:"button",onClick:e=>r.toggleDay(a),class:(0,k.C4)(["day-toggle",{active:e.selected}])},(0,k.v_)(e.selected?"Ish":"Dam"),11,Et)]),e.selected?((0,l.uX)(),(0,l.CE)("div",wt,[(0,l.Lk)("div",Nt,[t[53]||(t[53]=(0,l.Lk)("label",null,"Boshlanish vaqti",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t=>e.startTime=t,type:"time",class:"time-input"},null,8,Dt),[[s.Jo,e.startTime]])]),(0,l.Lk)("div",Pt,[t[54]||(t[54]=(0,l.Lk)("label",null,"Tugash vaqti",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t=>e.endTime=t,type:"time",class:"time-input"},null,8,St),[[s.Jo,e.endTime]])])])):(0,l.Q3)("",!0)])))),128)),i.errors.workDays?((0,l.uX)(),(0,l.CE)("p",Xt,(0,k.v_)(i.errors.workDays),1)):(0,l.Q3)("",!0)])):(0,l.Q3)("",!0)])):(0,l.Q3)("",!0),3===i.currentStep?((0,l.uX)(),(0,l.CE)("div",It,[t[67]||(t[67]=(0,l.Lk)("div",{class:"step-title"},"Tushlik vaqti holati",-1)),(0,l.Lk)("div",xt,[(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":t[18]||(t[18]=e=>i.lunch.type=e),class:"form-select"},[t[56]||(t[56]=(0,l.Lk)("option",{value:""},"Tushlik vaqti holatini tanlang",-1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(i.lunchTypeOptions,(e=>((0,l.uX)(),(0,l.CE)("option",{value:e.value},(0,k.v_)(e.text),9,At)))),256))],512),[[s.u1,i.lunch.type]]),i.errors.lunchType?((0,l.uX)(),(0,l.CE)("p",_t,(0,k.v_)(i.errors.lunchType),1)):(0,l.Q3)("",!0)]),"interval"===i.lunch.type?((0,l.uX)(),(0,l.CE)("div",Ot,[(0,l.Lk)("div",Ft,[t[57]||(t[57]=(0,l.Lk)("label",null,"Tushlik boshlanish vaqti",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[19]||(t[19]=e=>i.lunch.start=e),type:"time",class:"form-input"},null,512),[[s.Jo,i.lunch.start]]),i.errors.lunchStart?((0,l.uX)(),(0,l.CE)("p",Mt,(0,k.v_)(i.errors.lunchStart),1)):(0,l.Q3)("",!0)]),(0,l.Lk)("div",qt,[t[58]||(t[58]=(0,l.Lk)("label",null,"Tushlik tugash vaqti",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[20]||(t[20]=e=>i.lunch.end=e),type:"time",class:"form-input"},null,512),[[s.Jo,i.lunch.end]]),i.errors.lunchEnd?((0,l.uX)(),(0,l.CE)("p",Ut,(0,k.v_)(i.errors.lunchEnd),1)):(0,l.Q3)("",!0)])])):(0,l.Q3)("",!0),4===i.currentStep?((0,l.uX)(),(0,l.CE)("div",Vt,[t[66]||(t[66]=(0,l.Lk)("div",{class:"step-title"},"Maosh",-1)),(0,l.Lk)("div",$t,[t[60]||(t[60]=(0,l.Lk)("label",null,"Maosh turi *",-1)),(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":t[21]||(t[21]=e=>i.salary.type=e),class:"form-select"},[t[59]||(t[59]=(0,l.Lk)("option",{value:""},"Tanlang",-1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(i.salaryTypeOptions,(e=>((0,l.uX)(),(0,l.CE)("option",{value:e.value},(0,k.v_)(e.text),9,Bt)))),256))],512),[[s.u1,i.salary.type]]),i.errors.salaryType?((0,l.uX)(),(0,l.CE)("p",Qt,(0,k.v_)(i.errors.salaryType),1)):(0,l.Q3)("",!0)]),(0,l.Lk)("div",Wt,[(0,l.Lk)("label",null,(0,k.v_)("oylik"===i.salary.type?"Har bir oy uchun maosh":"kunlik"===i.salary.type?"Har bir kun uchun maosh":"Har bir soat uchun maosh")+" * ",1),(0,l.Lk)("div",Kt,[(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[22]||(t[22]=e=>i.salary.amount=e),type:"number",placeholder:"Maoshni kiriting...",class:"form-input salary-input"},null,512),[[s.Jo,i.salary.amount]]),t[61]||(t[61]=(0,l.Lk)("span",{class:"currency"},"so'm",-1))]),i.errors.salaryAmount?((0,l.uX)(),(0,l.CE)("p",Jt,(0,k.v_)(i.errors.salaryAmount),1)):(0,l.Q3)("",!0)]),(0,l.Lk)("div",jt,[t[63]||(t[63]=(0,l.Lk)("label",null,"Jarima har daqiqaga",-1)),(0,l.Lk)("div",zt,[(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[23]||(t[23]=e=>i.salary.penalty=e),type:"number",placeholder:"Jarima har daqiqaga yozing...",class:"form-input salary-input"},null,512),[[s.Jo,i.salary.penalty]]),t[62]||(t[62]=(0,l.Lk)("span",{class:"currency"},"so'm",-1))]),i.errors.salaryPenalty?((0,l.uX)(),(0,l.CE)("p",Ht,(0,k.v_)(i.errors.salaryPenalty),1)):(0,l.Q3)("",!0)]),(0,l.Lk)("div",Rt,[t[65]||(t[65]=(0,l.Lk)("label",null,"Bonus",-1)),(0,l.Lk)("div",Yt,[(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[24]||(t[24]=e=>i.salary.bonus=e),type:"number",placeholder:"Bonus miqdorini kiriting...",class:"form-input salary-input"},null,512),[[s.Jo,i.salary.bonus]]),t[64]||(t[64]=(0,l.Lk)("span",{class:"currency"},"so'm",-1))]),i.errors.salaryBonus?((0,l.uX)(),(0,l.CE)("p",Gt,(0,k.v_)(i.errors.salaryBonus),1)):(0,l.Q3)("",!0)])])):(0,l.Q3)("",!0)])):(0,l.Q3)("",!0),4===i.currentStep?((0,l.uX)(),(0,l.CE)("div",Zt,[t[75]||(t[75]=(0,l.Lk)("div",{class:"step-title"},"Maosh",-1)),(0,l.Lk)("div",ea,[t[69]||(t[69]=(0,l.Lk)("label",null,"Maosh turi *",-1)),(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":t[25]||(t[25]=e=>i.salary.type=e),class:"form-select"},[t[68]||(t[68]=(0,l.Lk)("option",{value:""},"Tanlang",-1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(i.salaryTypeOptions,(e=>((0,l.uX)(),(0,l.CE)("option",{value:e.value},(0,k.v_)(e.text),9,ta)))),256))],512),[[s.u1,i.salary.type]]),i.errors.salaryType?((0,l.uX)(),(0,l.CE)("p",aa,(0,k.v_)(i.errors.salaryType),1)):(0,l.Q3)("",!0)]),(0,l.Lk)("div",sa,[(0,l.Lk)("label",null,(0,k.v_)("oylik"===i.salary.type?"Har bir oy uchun maosh":"kunlik"===i.salary.type?"Har bir kun uchun maosh":"Har bir soat uchun maosh")+" * ",1),(0,l.Lk)("div",la,[(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[26]||(t[26]=e=>i.salary.amount=e),type:"number",placeholder:"Maoshni kiriting...",class:"form-input salary-input"},null,512),[[s.Jo,i.salary.amount]]),t[70]||(t[70]=(0,l.Lk)("span",{class:"currency"},"so'm",-1))]),i.errors.salaryAmount?((0,l.uX)(),(0,l.CE)("p",oa,(0,k.v_)(i.errors.salaryAmount),1)):(0,l.Q3)("",!0)]),(0,l.Lk)("div",ia,[t[72]||(t[72]=(0,l.Lk)("label",null,"Jarima har daqiqaga",-1)),(0,l.Lk)("div",ra,[(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[27]||(t[27]=e=>i.salary.penalty=e),type:"number",placeholder:"Jarima har daqiqaga yozing...",class:"form-input salary-input"},null,512),[[s.Jo,i.salary.penalty]]),t[71]||(t[71]=(0,l.Lk)("span",{class:"currency"},"so'm",-1))]),i.errors.salaryPenalty?((0,l.uX)(),(0,l.CE)("p",na,(0,k.v_)(i.errors.salaryPenalty),1)):(0,l.Q3)("",!0)]),(0,l.Lk)("div",da,[t[74]||(t[74]=(0,l.Lk)("label",null,"Bonus",-1)),(0,l.Lk)("div",ma,[(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[28]||(t[28]=e=>i.salary.bonus=e),type:"number",placeholder:"Bonus miqdorini kiriting...",class:"form-input salary-input"},null,512),[[s.Jo,i.salary.bonus]]),t[73]||(t[73]=(0,l.Lk)("span",{class:"currency"},"so'm",-1))]),i.errors.salaryBonus?((0,l.uX)(),(0,l.CE)("p",ua,(0,k.v_)(i.errors.salaryBonus),1)):(0,l.Q3)("",!0)])])):(0,l.Q3)("",!0),(0,l.Lk)("div",ca,[i.currentStep>1?((0,l.uX)(),(0,l.CE)("button",{key:0,type:"button",onClick:t[29]||(t[29]=(...e)=>r.prevStep&&r.prevStep(...e)),class:"prev-btn",disabled:i.isLoading}," Orqaga ",8,pa)):(0,l.Q3)("",!0),(0,l.Lk)("button",{type:"button",onClick:t[30]||(t[30]=(...e)=>r.close&&r.close(...e)),class:"cancel-btn",disabled:i.isLoading}," Bekor qilish ",8,ha),i.currentStep<4?((0,l.uX)(),(0,l.CE)("button",{key:1,type:"button",onClick:t[31]||(t[31]=(...e)=>r.nextStep&&r.nextStep(...e)),class:"next-btn",disabled:i.isLoading}," Keyingisi ",8,ya)):((0,l.uX)(),(0,l.CE)("button",{key:2,type:"submit",class:"submit-btn",disabled:i.isLoading},(0,k.v_)(i.isLoading?"Saqlanmoqda...":"Saqlash"),9,ka))])],32)])])}var ba=a(335);const fa=ba.A.create({baseURL:"/api",timeout:1e4}),va=fa;function La(e){return e&&"all"!==e?va.get("/dashboard/employees-attendance-statistics",{params:{companyId:e}}):va.get("/dashboard/employees-attendance-statistics")}function Ca({companyId:e=null,pageNumber:t=1,pageSize:a=1e4}={}){const s={pageNumber:t,pageSize:a};return e&&"all"!==e&&(s.companyId=e),va.get("/dashboard/employees-attendance",{params:s})}function Ta(e=1,t=100){return va.get("/companies",{params:{pageNumber:e,pageSize:t}})}function Ea(e){return va.post("/employees",e)}function wa(e){return va.get(`/employees/${e}`)}function Na(e,t){return va.put(`/employees/${e}`,t)}function Da(e){return va.delete(`/employees/${e}`)}function Pa(e){return e?e.startsWith("data:")?e:e.length>100?`data:image/jpeg;base64,${e}`:e:null}function Sa(e){return e&&e.image?Pa(e.image):null}const Xa={name:"EmployeeAddModal",emits:["close","add-employee"],data(){return{currentStep:1,isLoading:!1,scheduleType:"odatiy",companies:[],defaultStartTime:"09:00",defaultEndTime:"18:00",errors:{},form:{companyId:"",employeeNumber:"",firstName:"",lastName:"",middleName:"",phoneNumber:"",hourlyRate:"",image:null,photoPreview:null},workDays:[{day:1,name:"Dushanba",selected:!0,startTime:"09:00",endTime:"18:00"},{day:2,name:"Seshanba",selected:!0,startTime:"09:00",endTime:"18:00"},{day:3,name:"Chorshanba",selected:!0,startTime:"09:00",endTime:"18:00"},{day:4,name:"Payshanba",selected:!0,startTime:"09:00",endTime:"18:00"},{day:5,name:"Juma",selected:!0,startTime:"09:00",endTime:"18:00"},{day:6,name:"Shanba",selected:!1,startTime:"09:00",endTime:"18:00"},{day:0,name:"Yakshanba",selected:!1,startTime:"09:00",endTime:"18:00"}],lunch:{type:"",start:"",end:"",duration:""},lunchTypeOptions:[{value:"none",text:"Tushlik vaqti yoâ€˜q"},{value:"interval",text:"Ma'lum bir vaqt orasida"},{value:"duration",text:"Ma'lum bir vaqt davomida"}],lunchDurationOptions:[30,60,90,120],salary:{type:"",amount:"",penalty:"",bonus:""},salaryTypeOptions:[{value:"oylik",text:"Oylik"},{value:"kunlik",text:"Kunlik"},{value:"soatlik",text:"Soatlik"}]}},async mounted(){const e=await Ta(1,100);this.companies=e.data.value?.items||[]},methods:{validateStep1(){return this.errors={},this.form.firstName.trim()||(this.errors.firstName="Ism kiritish majburiy"),this.form.lastName.trim()||(this.errors.lastName="Familiya kiritish majburiy"),this.form.middleName.trim()||(this.errors.middleName="Otasining ismi kiritish majburiy"),this.form.employeeNumber.trim()||(this.errors.employeeNumber="Xodim IDsi kiritish majburiy"),this.form.phoneNumber&&9===this.form.phoneNumber.length||(this.errors.phoneNumber="Telefon raqami 9 ta raqam bo'lishi shart"),this.form.companyId||(this.errors.companyId="Kompaniyani tanlash majburiy"),0===Object.keys(this.errors).length},validateStep2(){this.errors={};const e=this.workDays.some((e=>e.selected));return e?("odatiy"===this.scheduleType&&(this.defaultStartTime||(this.errors.startTime="Boshlanish vaqti kiritish majburiy"),this.defaultEndTime||(this.errors.endTime="Tugash vaqti kiritish majburiy"),this.defaultStartTime&&this.defaultEndTime&&this.defaultStartTime>=this.defaultEndTime&&(this.errors.endTime="Tugash vaqti boshlanish vaqtidan kech bo'lishi kerak")),0===Object.keys(this.errors).length):(this.errors.workDays="Kamida bitta ish kuni tanlash kerak",!1)},validateStep3(){return this.errors={},this.lunch.type?"interval"===this.lunch.type?(this.lunch.start||(this.errors.lunchStart="Boshlanish vaqtini kiriting"),this.lunch.end||(this.errors.lunchEnd="Tugash vaqtini kiriting"),this.lunch.start&&this.lunch.end&&this.lunch.start>=this.lunch.end&&(this.errors.lunchEnd="Tugash vaqti boshlanishidan kech boâ€˜lishi kerak"),0===Object.keys(this.errors).length):"duration"!==this.lunch.type||(this.lunch.duration||(this.errors.lunchDuration="Tushlik davomiyligini tanlang"),0===Object.keys(this.errors).length):(this.errors.lunchType="Tushlik vaqti holatini tanlang",!1)},validateStep4(){return this.errors={},this.salary.type||(this.errors.salaryType="Maosh turini tanlang"),(!this.salary.amount||Number(this.salary.amount)<=0)&&(this.errors.salaryAmount="Maosh miqdorini kiriting"),this.salary.penalty&&Number(this.salary.penalty)<0&&(this.errors.salaryPenalty="Jarima musbat son boâ€˜lishi kerak"),this.salary.bonus&&Number(this.salary.bonus)<0&&(this.errors.salaryBonus="Bonus musbat son boâ€˜lishi kerak"),0===Object.keys(this.errors).length},onPhoneInput(e){let t=e.target.value.replace(/\D/g,"").slice(0,9);this.form.phoneNumber=t,this.errors.phoneNumber&&9===t.length&&delete this.errors.phoneNumber},validatePhone(){this.form.phoneNumber&&9!==this.form.phoneNumber.length?this.errors.phoneNumber="Telefon raqami 9 ta raqam bo'lishi shart":this.errors.phoneNumber&&delete this.errors.phoneNumber},nextStep(){let e=!1;switch(this.currentStep){case 1:e=this.validateStep1();break;case 2:e=this.validateStep2();break;case 3:e=this.validateStep3();break;case 4:e=this.validateStep4();break;default:e=!0}e&&this.currentStep<4&&this.currentStep++},prevStep(){this.currentStep>1&&this.currentStep--},toggleDay(e){this.workDays[e].selected=!this.workDays[e].selected,this.errors.workDays&&this.workDays.some((e=>e.selected))&&delete this.errors.workDays},updateAllWorkDays(){this.workDays.forEach((e=>{e.selected&&(e.startTime=this.defaultStartTime,e.endTime=this.defaultEndTime)}))},getWorkDaysSummary(){return this.workDays.filter((e=>e.selected)).map((e=>e.name)).join(", ")},async submitForm(){if(!this.isLoading)if(this.validateStep1()&&this.validateStep2()&&this.validateStep3()&&this.validateStep4()){this.isLoading=!0;try{const e=this.workDays.map((e=>({day:e.day,startTime:5===e.startTime.length?e.startTime+":00":e.startTime,endTime:5===e.endTime.length?e.endTime+":00":e.endTime,isDayOff:!e.selected})));let t=this.form.photoPreview||null;const a={companyId:this.form.companyId,employeeNumber:this.form.employeeNumber,firstName:this.form.firstName,lastName:this.form.lastName,middleName:this.form.middleName,phoneNumber:"+998"+this.form.phoneNumber,image:t,workDays:e},s=await Ea(a);this.$emit("add-employee",s.data.value),this.close(),this.$toast?.success("Xodim qoâ€˜shildi")}catch(e){this.$toast?.error(e.response?.data?.message||"Xatolik yuz berdi")}finally{this.isLoading=!1}}else this.$toast?.error("Ma'lumotlarni to'liq va to'g'ri to'ldiring")},handlePhotoUpload(e){const t=e.target.files[0];if(!t)return;const a=new FileReader;a.onload=e=>{this.form.photoPreview=e.target.result},a.readAsDataURL(t)},removePhoto(){this.form.image=null,this.form.photoPreview=null},close(){this.$emit("close")}}},Ia=(0,n.A)(Xa,[["render",ga],["__scopeId","data-v-2e931fa2"]]),xa=Ia,Aa={class:"modal-content"},_a={class:"modal-header"},Oa={class:"form-group"},Fa={class:"form-group"},Ma={class:"form-group"},qa={class:"form-group"},Ua={class:"form-group"},Va={class:"form-group"},$a={class:"photo-upload"},Ba={key:0,class:"photo-preview"},Qa=["src"],Wa={class:"form-group"},Ka=["value"],Ja={class:"form-group"},ja={class:"work-days"},za=["id","onUpdate:modelValue"],Ha=["for"],Ra={key:0,class:"time-inputs"},Ya=["onUpdate:modelValue"],Ga=["onUpdate:modelValue"],Za={class:"form-actions"},es=["disabled"],ts=["disabled"];function as(e,t,a,o,i,r){return(0,l.uX)(),(0,l.CE)("div",{class:"modal-overlay",onClick:t[12]||(t[12]=(0,s.D$)(((...e)=>r.close&&r.close(...e)),["self"]))},[(0,l.Lk)("div",Aa,[(0,l.Lk)("div",_a,[t[13]||(t[13]=(0,l.Lk)("h3",null,"Xodim ma'lumotlarini tahrirlash",-1)),(0,l.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>r.close&&r.close(...e)),class:"close-btn"},"Ã—")]),(0,l.Lk)("form",{onSubmit:t[11]||(t[11]=(0,s.D$)(((...e)=>r.submitForm&&r.submitForm(...e)),["prevent"])),class:"employee-form"},[(0,l.Lk)("div",Oa,[t[14]||(t[14]=(0,l.Lk)("label",{for:"firstName"},"Ism *",-1)),(0,l.bo)((0,l.Lk)("input",{id:"firstName","onUpdate:modelValue":t[1]||(t[1]=e=>i.form.firstName=e),type:"text",placeholder:"Ismni kiriting",class:"form-input"},null,512),[[s.Jo,i.form.firstName]])]),(0,l.Lk)("div",Fa,[t[15]||(t[15]=(0,l.Lk)("label",{for:"lastName"},"Familiya *",-1)),(0,l.bo)((0,l.Lk)("input",{id:"lastName","onUpdate:modelValue":t[2]||(t[2]=e=>i.form.lastName=e),type:"text",placeholder:"Familiyani kiriting",class:"form-input"},null,512),[[s.Jo,i.form.lastName]])]),(0,l.Lk)("div",Ma,[t[16]||(t[16]=(0,l.Lk)("label",{for:"middleName"},"Otasining ismi",-1)),(0,l.bo)((0,l.Lk)("input",{id:"middleName","onUpdate:modelValue":t[3]||(t[3]=e=>i.form.middleName=e),type:"text",placeholder:"Otasining ismini kiriting",class:"form-input"},null,512),[[s.Jo,i.form.middleName]])]),(0,l.Lk)("div",qa,[t[17]||(t[17]=(0,l.Lk)("label",{for:"employeeNumber"},"Xodim ID *",-1)),(0,l.bo)((0,l.Lk)("input",{id:"employeeNumber","onUpdate:modelValue":t[4]||(t[4]=e=>i.form.employeeNumber=e),type:"text",placeholder:"Xodim ID kiriting",class:"form-input"},null,512),[[s.Jo,i.form.employeeNumber]])]),(0,l.Lk)("div",Ua,[t[18]||(t[18]=(0,l.Lk)("label",{for:"phoneNumber"},"Telefon raqami *",-1)),(0,l.bo)((0,l.Lk)("input",{id:"phoneNumber","onUpdate:modelValue":t[5]||(t[5]=e=>i.form.phoneNumber=e),type:"tel",placeholder:"+998901234567",class:"form-input"},null,512),[[s.Jo,i.form.phoneNumber]])]),(0,l.Lk)("div",Va,[t[19]||(t[19]=(0,l.Lk)("label",{for:"photo"},"Xodim rasmi",-1)),(0,l.Lk)("div",$a,[(0,l.Lk)("input",{id:"photo",ref:"fileInput",type:"file",accept:"image/*",onChange:t[6]||(t[6]=(...e)=>r.handlePhotoUpload&&r.handlePhotoUpload(...e)),class:"file-input"},null,544),i.form.photoPreview?((0,l.uX)(),(0,l.CE)("div",Ba,[(0,l.Lk)("img",{src:i.form.photoPreview,alt:"Xodim rasmi",class:"preview-image"},null,8,Qa),(0,l.Lk)("button",{type:"button",onClick:t[7]||(t[7]=(...e)=>r.removePhoto&&r.removePhoto(...e)),class:"remove-photo"},"Ã—")])):(0,l.Q3)("",!0),i.form.photoPreview?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("button",{key:1,type:"button",onClick:t[8]||(t[8]=t=>e.$refs.fileInput.click()),class:"upload-btn"}," ðŸ“· Rasm tanlash "))])]),(0,l.Lk)("div",Wa,[t[21]||(t[21]=(0,l.Lk)("label",{for:"companyId"},"Kompaniya *",-1)),(0,l.bo)((0,l.Lk)("select",{id:"companyId","onUpdate:modelValue":t[9]||(t[9]=e=>i.form.companyId=e),class:"form-select"},[t[20]||(t[20]=(0,l.Lk)("option",{value:""},"Kompaniyani tanlang",-1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(i.companies,(e=>((0,l.uX)(),(0,l.CE)("option",{key:e.id,value:e.id},(0,k.v_)(e.name),9,Ka)))),128))],512),[[s.u1,i.form.companyId]])]),(0,l.Lk)("div",Ja,[t[23]||(t[23]=(0,l.Lk)("label",null,"Ish kunlari",-1)),(0,l.Lk)("div",ja,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(i.workDays,((e,a)=>((0,l.uX)(),(0,l.CE)("div",{key:a,class:"day-item"},[(0,l.bo)((0,l.Lk)("input",{type:"checkbox",id:`day-${a}`,"onUpdate:modelValue":t=>e.selected=t},null,8,za),[[s.lH,e.selected]]),(0,l.Lk)("label",{for:`day-${a}`},(0,k.v_)(e.name),9,Ha),e.selected?((0,l.uX)(),(0,l.CE)("div",Ra,[(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t=>e.startTime=t,type:"time",class:"time-input"},null,8,Ya),[[s.Jo,e.startTime]]),t[22]||(t[22]=(0,l.Lk)("span",null,"-",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t=>e.endTime=t,type:"time",class:"time-input"},null,8,Ga),[[s.Jo,e.endTime]])])):(0,l.Q3)("",!0)])))),128))])]),(0,l.Lk)("div",Za,[(0,l.Lk)("button",{type:"button",onClick:t[10]||(t[10]=(...e)=>r.close&&r.close(...e)),class:"cancel-btn",disabled:i.isLoading}," Bekor qilish ",8,es),(0,l.Lk)("button",{type:"submit",class:"submit-btn",disabled:i.isLoading},(0,k.v_)(i.isLoading?"Saqlanmoqda...":"Saqlash"),9,ts)])],32)])])}const ss={name:"EmployeeEditModal",emits:["close","update-employee"],props:{employeeId:{type:[String,Number],required:!0}},data(){return{isLoading:!1,companies:[],form:{companyId:"",employeeNumber:"",firstName:"",lastName:"",middleName:"",phoneNumber:"",image:null,photoPreview:null},workDays:[{day:1,name:"Dushanba",selected:!0,startTime:"09:00",endTime:"18:00"},{day:2,name:"Seshanba",selected:!0,startTime:"09:00",endTime:"18:00"},{day:3,name:"Chorshanba",selected:!0,startTime:"09:00",endTime:"18:00"},{day:4,name:"Payshanba",selected:!0,startTime:"09:00",endTime:"18:00"},{day:5,name:"Juma",selected:!0,startTime:"09:00",endTime:"18:00"},{day:6,name:"Shanba",selected:!1,startTime:"09:00",endTime:"18:00"},{day:0,name:"Yakshanba",selected:!1,startTime:"09:00",endTime:"18:00"}]}},async mounted(){await this.loadData()},methods:{async loadData(){try{this.isLoading=!0;const e=await Ta(1,100);this.companies=e.data.value?.items||[];const t=await wa(this.employeeId),a=t.data.value;a&&(this.form={companyId:a.companyId||"",employeeNumber:a.employeeNumber||"",firstName:a.firstName||"",lastName:a.lastName||"",middleName:a.middleName||"",phoneNumber:a.phoneNumber||"",image:null,photoPreview:a.image||null},a.workDays&&a.workDays.length&&(this.workDays=this.workDays.map((e=>{const t=a.workDays.find((t=>t.day===e.day));return t?{...e,selected:!t.isDayOff,startTime:t.startTime?t.startTime.slice(0,5):"09:00",endTime:t.endTime?t.endTime.slice(0,5):"18:00"}:e}))))}catch(e){this.$toast?.error("Xodim maâ€™lumotlarini yuklashda xatolik: "+(e.response?.data?.message||e.message))}finally{this.isLoading=!1}},async submitForm(){this.isLoading=!0;try{const e=this.workDays.map((e=>({day:e.day,startTime:5===e.startTime.length?e.startTime+":00":e.startTime,endTime:5===e.endTime.length?e.endTime+":00":e.endTime,isDayOff:!e.selected}))),t={id:this.employeeId,companyId:this.form.companyId,employeeNumber:this.form.employeeNumber,firstName:this.form.firstName,lastName:this.form.lastName,middleName:this.form.middleName,phoneNumber:this.form.phoneNumber,image:this.form.photoPreview,workDays:e};console.log("Yuborilayotgan payload:",t),await Na(this.employeeId,t),this.$emit("update-employee"),this.close(),this.$toast?.success("Xodim ma'lumotlari yangilandi")}catch(e){console.error("Xatolik:",e),this.$toast?.error(e.response?.data?.message||"Xatolik yuz berdi")}finally{this.isLoading=!1}},handlePhotoUpload(e){const t=e.target.files[0];if(!t)return;const a=new FileReader;a.onload=e=>{this.form.photoPreview=e.target.result},a.readAsDataURL(t)},removePhoto(){this.form.image=null,this.form.photoPreview=null},close(){this.$emit("close")}}},ls=(0,n.A)(ss,[["render",as],["__scopeId","data-v-23e94a9f"]]),os=ls,is={name:"EmployeeSectionListView",components:{EmployeeAddModal:xa,EmployeeEditModal:os},props:{employees:{type:Array,default:()=>[]}},data(){return{searchQuery:"",selectedFilter:"all",isLoading:!1,showAddModal:!1,showEditModal:!1,showDeleteModal:!1,selectedEmployee:null,employeeToDelete:null,isDeleting:!1,currentPage:1,itemsPerPage:10,itemsPerPageOptions:[5,10,20,50,100],filterOptions:[{value:"all",label:"Barchasi"},{value:"in-office",label:"Ofisda"},{value:"absent",label:"Ofisda emas"},{value:"late",label:"Kech qolgan"},{value:"left",label:"Ishdan ketgan"},{value:"day-off",label:"Dam olishda"}]}},computed:{filteredEmployees(){let e=this.employees;"all"!==this.selectedFilter&&(e=e.filter((e=>this.getEmployeeStatus(e)===this.selectedFilter)));const t=this.searchQuery.trim().toLowerCase();return t&&(e=e.filter((e=>{const a=e.employee||{},s=`${a.firstName||""} ${a.lastName||""} ${a.middleName||""}`.toLowerCase();return s.includes(t)}))),e},totalItems(){return this.filteredEmployees.length},totalPages(){return Math.ceil(this.totalItems/this.itemsPerPage)},startItem(){return 0===this.totalItems?0:(this.currentPage-1)*this.itemsPerPage+1},endItem(){const e=this.currentPage*this.itemsPerPage;return e>this.totalItems?this.totalItems:e},paginatedEmployees(){const e=(this.currentPage-1)*this.itemsPerPage,t=e+this.itemsPerPage;return this.filteredEmployees.slice(e,t)},visiblePages(){const e=[],t=7;let a=Math.max(1,this.currentPage-Math.floor(t/2)),s=Math.min(this.totalPages,a+t-1);s-a+1<t&&(a=Math.max(1,s-t+1));for(let l=a;l<=s;l++)e.push(l);return e}},watch:{selectedFilter(){this.currentPage=1},searchQuery(){this.currentPage=1},totalPages(e){this.currentPage>e&&e>0&&(this.currentPage=e)}},methods:{setFilter(e){this.selectedFilter=e},getFullName(e){return e?[e.firstName,e.lastName].filter(Boolean).join(" "):""},getInitials(e){if(!e)return"?";const t=e.firstName||"",a=e.lastName||"";return(t.charAt(0)+a.charAt(0)).toUpperCase()||"?"},getEmployeeImageUrl(e){return Sa(e)},handleImageError(e){e.target.style.display="none";const t=e.target.nextElementSibling;t&&(t.style.display="flex")},formatTime(e){if(!e)return"--:--";try{return new Date(e).toLocaleTimeString("uz-UZ",{hour:"2-digit",minute:"2-digit",hour12:!1,timeZone:"Asia/Tashkent"})}catch{return"--:--"}},getWorkTime(e){if(e.employee&&e.employee.workDays&&e.employee.workDays.length){const t=new Date;let a=t.getDay();const s=e.employee.workDays.find((e=>e.day===a));if(s)return`${s.startTime?.slice(0,5)||"--:--"} - ${s.endTime?.slice(0,5)||"--:--"}`}return"--:-- - --:--"},getEmployeeStatus(e){return e.isDayOff?"day-off":e.isLate&&!e.isAbsent?"late":e.isAbsent&&!e.isDayOff?"left":e.isLate||e.isAbsent||e.isDayOff?"absent":"in-office"},getStatusClass(e){const t=this.getEmployeeStatus(e);return{"status-in-office":"in-office"===t,"status-absent":"absent"===t,"status-late":"late"===t,"status-left":"left"===t,"status-day-off":"day-off"===t}},getStatusText(e){const t=this.getEmployeeStatus(e);return{"in-office":"Officeda",absent:"Ofisda emas",late:"Kech qolgan",left:"Ishdan ketgan","day-off":"Dam olishda"}[t]||"NomaÊ¼lum"},getEmployeeKey(e){return e.id||e.employee?.id||Math.random().toString(36).substr(2,9)},goToPage(e){e>=1&&e<=this.totalPages&&(this.currentPage=e)},onItemsPerPageChange(){this.currentPage=1},openAddModal(){this.showAddModal=!0},closeAddModal(){this.showAddModal=!1},handleAddEmployee(e){this.showAddModal=!1,this.$emit("reload-employees")},openEditModal(e){e&&e.id&&(this.selectedEmployee=e,this.showEditModal=!0)},closeEditModal(){this.showEditModal=!1,this.selectedEmployee=null},handleUpdateEmployee(e){this.showEditModal=!1,this.selectedEmployee=null,this.$emit("reload-employees")},confirmDelete(e){e&&e.id&&(this.employeeToDelete=e,this.showDeleteModal=!0)},closeDeleteModal(){this.showDeleteModal=!1,this.employeeToDelete=null,this.isDeleting=!1},async handleDeleteEmployee(){if(this.employeeToDelete&&!this.isDeleting){this.isDeleting=!0;try{await Da(this.employeeToDelete.id),this.$toast?.success(`${this.getFullName(this.employeeToDelete)} xodimi o'chirildi`),this.closeDeleteModal(),this.$emit("reload-employees")}catch(e){this.$toast?.error("Xodimni o'chirishda xatolik: "+(e.response?.data?.message||e.message))}finally{this.isDeleting=!1}}}}},rs=(0,n.A)(is,[["render",Ve],["__scopeId","data-v-2804b8c1"]]),ns=rs,ds={name:"Dashboard",components:{HeaderComponent:T,FilterDropdown:x,StatsGrid:V,ChartComponent:j,NotificationButton:Z,ToggleSwitch:re,EmployeeSection:ns},data(){return{companies:[],filterOptions:[{value:"all",label:"Barcha kompaniyalar"}],selectedFilter:"all",employees:[],isLoadingEmployees:!1,stats:[],chartData:{labels:["Ofisda","Ofisda emas","Kech qoldi","Ishdan ketgan"],datasets:[{data:[0,0,0,0]}]},totalValue:0,notificationsEnabled:!0}},computed:{selectedCompanyName(){if("all"===this.selectedFilter)return"Davomat";const e=this.companies.find((e=>e.id==this.selectedFilter));return e?e.name:""}},methods:{handleStatClick(e){let t="all";1===e.id&&(t="in-office"),2===e.id&&(t="absent"),3===e.id&&(t="late"),4===e.id&&(t="left"),this.$refs.employeeSection.setFilter(t);const a=document.getElementById("employee-section-list");a&&a.scrollIntoView({behavior:"smooth",block:"start"})},async loadCompanies(){try{const e=await Ta(1,100);this.companies=e.data.value.items,this.filterOptions=[{value:"all",label:"Barcha kompaniyalar"},...this.companies.map((e=>({value:e.id,label:e.name})))]}catch(e){console.error("Companies load error:",e)}},async loadAttendanceData(){try{const e=await La(this.selectedFilter),t=e.data.value;this.stats=[{id:1,title:"OFISDA",count:t.inOffice,color:"green"},{id:2,title:"OFISDA EMAS",count:t.absent,color:"red"},{id:3,title:"KECH QOLDI",count:t.late,color:"yellow"},{id:4,title:"ISHDAN KETGAN",count:t.left,color:"gray"}],this.chartData={labels:["Ofisda","Ofisda emas","Kech qoldi","Ishdan ketgan"],datasets:[{data:[t.inOffice,t.absent,t.late,t.left]}]},this.totalValue=t.total||0}catch(e){console.error("Attendance load error:",e)}},async loadEmployees(){this.isLoadingEmployees=!0;try{const e=await Ca({companyId:this.selectedFilter,pageNumber:1,pageSize:500});this.employees=e.data.value&&Array.isArray(e.data.value.items)?e.data.value.items:[]}catch(e){console.error("Employees load error:",e),this.employees=[]}finally{this.isLoadingEmployees=!1}},handleFilterChange(){this.loadAttendanceData(),this.loadEmployees()},sendNotification(){this.notificationsEnabled&&this.$toast?.success("Xabarnoma yuborildi")}},mounted(){this.loadCompanies(),this.loadAttendanceData(),this.loadEmployees(),this.intervalId=setInterval((()=>{this.loadAttendanceData(),this.loadEmployees()}),3e4)},beforeUnmount(){clearInterval(this.intervalId)}},ms=(0,n.A)(ds,[["render",y],["__scopeId","data-v-85ed29d6"]]),us=ms,cs=[{path:"/",name:"Dashboard",component:us}],ps=(0,u.aE)({history:(0,u.LA)(),routes:cs}),hs=ps;class ys{constructor(){this.tg=window.Telegram?.WebApp||null,this.init()}init(){this.tg&&(this.tg.ready(),this.tg.MainButton.text="Yuborish",this.tg.MainButton.color="#6366f1",this.setTheme(),this.tg.BackButton.onClick((()=>{this.tg.close()})))}setTheme(){if(this.tg){const e=this.tg.colorScheme;document.documentElement.setAttribute("data-theme",e);const t=document.documentElement;"dark"===e?(t.style.setProperty("--bg-color",this.tg.themeParams.bg_color||"#1a1a1a"),t.style.setProperty("--text-color",this.tg.themeParams.text_color||"#ffffff")):(t.style.setProperty("--bg-color",this.tg.themeParams.bg_color||"#ffffff"),t.style.setProperty("--text-color",this.tg.themeParams.text_color||"#000000"))}}showMainButton(e){this.tg&&(this.tg.MainButton.show(),this.tg.MainButton.onClick(e))}hideMainButton(){this.tg&&this.tg.MainButton.hide()}showAlert(e){this.tg?this.tg.showAlert(e):alert(e)}showConfirm(e,t){if(this.tg)this.tg.showConfirm(e,t);else{const a=confirm(e);t(a)}}hapticFeedback(e="impact"){if(this.tg?.HapticFeedback)switch(e){case"impact":this.tg.HapticFeedback.impactOccurred("medium");break;case"notification":this.tg.HapticFeedback.notificationOccurred("success");break;case"selection":this.tg.HapticFeedback.selectionChanged();break}}sendData(e){this.tg&&this.tg.sendData(JSON.stringify(e))}close(){this.tg&&this.tg.close()}getUserData(){return this.tg?{id:this.tg.initDataUnsafe?.user?.id,first_name:this.tg.initDataUnsafe?.user?.first_name,last_name:this.tg.initDataUnsafe?.user?.last_name,username:this.tg.initDataUnsafe?.user?.username,language_code:this.tg.initDataUnsafe?.user?.language_code}:null}}const ks=new ys,gs=ks,bs=(0,s.Ef)(m);function fs(){return new Promise(((e,t)=>{if(window.Telegram&&window.Telegram.WebApp)return console.log("Telegram Web App already available"),void e(window.Telegram.WebApp);const a=document.createElement("script");a.src="https://telegram.org/js/telegram-web-app.js",a.async=!0,a.onload=()=>{console.log("Telegram Web App script loaded successfully"),window.Telegram&&window.Telegram.WebApp?(window.Telegram.WebApp.ready(),window.Telegram.WebApp.expand(),console.log("Telegram Web App initialized:",{version:window.Telegram.WebApp.version,platform:window.Telegram.WebApp.platform,colorScheme:window.Telegram.WebApp.colorScheme,user:window.Telegram.WebApp.initDataUnsafe?.user}),e(window.Telegram.WebApp)):t(new Error("Telegram Web App not available after script load"))},a.onerror=()=>{console.error("Failed to load Telegram Web App script"),t(new Error("Failed to load Telegram Web App script"))},document.head.appendChild(a),setTimeout((()=>{t(new Error("Telegram Web App script load timeout"))}),5e3)}))}async function vs(){try{console.log("Initializing application..."),await fs(),bs.config.globalProperties.$telegram=gs,bs.provide("telegram",gs),console.log("Telegram Web App successfully integrated via telegramApp class")}catch(e){console.warn("Running without Telegram Web App:",e.message),bs.config.globalProperties.$telegram=gs,bs.provide("telegram",gs)}finally{bs.use(hs).mount("#app"),console.log("Vue application mounted")}}vs()}},t={};function a(s){var l=t[s];if(void 0!==l)return l.exports;var o=t[s]={exports:{}};return e[s](o,o.exports,a),o.exports}a.m=e,(()=>{var e=[];a.O=(t,s,l,o)=>{if(!s){var i=1/0;for(m=0;m<e.length;m++){for(var[s,l,o]=e[m],r=!0,n=0;n<s.length;n++)(!1&o||i>=o)&&Object.keys(a.O).every((e=>a.O[e](s[n])))?s.splice(n--,1):(r=!1,o<i&&(i=o));if(r){e.splice(m--,1);var d=l();void 0!==d&&(t=d)}}return t}o=o||0;for(var m=e.length;m>0&&e[m-1][2]>o;m--)e[m]=e[m-1];e[m]=[s,l,o]}})(),(()=>{a.d=(e,t)=>{for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}})(),(()=>{a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{a.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{var e={524:0};a.O.j=t=>0===e[t];var t=(t,s)=>{var l,o,[i,r,n]=s,d=0;if(i.some((t=>0!==e[t]))){for(l in r)a.o(r,l)&&(a.m[l]=r[l]);if(n)var m=n(a)}for(t&&t(s);d<i.length;d++)o=i[d],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(m)},s=self["webpackChunkhitech_lab_dashboard"]=self["webpackChunkhitech_lab_dashboard"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})();var s=a.O(void 0,[121],(()=>a(25)));s=a.O(s)})();